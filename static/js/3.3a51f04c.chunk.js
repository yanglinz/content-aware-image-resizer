(this["webpackJsonpcontent-aware-image-resizer"]=this["webpackJsonpcontent-aware-image-resizer"]||[]).push([[3],{1:function(t,e,n){"use strict";n.r(e);var r=n(14),i=n(6),a=n(7),c=n(3);var u=n(5);function o(){return{source:document.getElementById("canvas-source"),target:document.getElementById("canvas-target")}}var s=function(t){var e=t.currentDisplay,n="SOURCE"===e?"":"hidden",r="TARGET"===e?"":"hidden";return Object(u.jsxs)("div",{className:"border-8 border-gray-600 border-opacity-5",children:[Object(u.jsx)("div",{className:n,children:Object(u.jsx)("canvas",{id:"canvas-source"})}),Object(u.jsx)("div",{className:r,children:Object(u.jsx)("canvas",{id:"canvas-target"})})]})};var f,d=function(t){var e=t.handleResize;return Object(u.jsx)("div",{className:"Controls",children:Object(u.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",onClick:e,children:"Resize to 50%"})})},l=(n(9),{display:"SOURCE"});function h(t,e){switch(e.type){case"RESIZE":return{display:"TARGET"};default:throw new Error("Unknown action type in reducer.")}}function v(){var t=Object(i.b)(h,l),e=Object(r.a)(t,2),n=e[0],a=e[1];return Object(i.a)((function(){var t=o().source;return fetch("https://source.unsplash.com/yRjLihK35Yw/500x250").then((function(t){return t.blob()})).then((function(t){return createImageBitmap(t)})).then((function(e){t.width=e.width,t.height=e.height;var n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height,0,0,t.width,t.height);var r=n.getImageData(0,0,t.width,t.height);console.log(r)}))}),[]),Object(u.jsxs)("div",{className:"App flex flex-col h-screen",children:[Object(u.jsx)("div",{className:"flex-grow",children:Object(u.jsx)("div",{className:"flex items-center\tjustify-center h-full",children:Object(u.jsx)(s,{currentDisplay:n.display})})}),Object(u.jsx)("div",{className:"border-t border-gray-150 p-10 bg-white",children:Object(u.jsx)(d,{handleResize:function(){var t=o(),e=t.source,n=t.target,r=c.a.new(e.getContext("2d"),e.width,e.height),i=200;requestAnimationFrame((function t(){i<=0||(!function(){r.mark_seam(),r.delete_seam();var t=r.image_data_ptr(),e=new Uint8ClampedArray(Object(c.j)().buffer,t,r.width*r.height*4);n.width=r.width,n.height=r.height;var i=new ImageData(e,r.width,r.height);n.getContext("2d").putImageData(i,0,0)}(),i-=1,requestAnimationFrame(t))})),a({type:"RESIZE"})}})})]})}f=function(){a.a.render(Object(u.jsx)(v,{}),document.getElementById("app"))},"loading"!=document.readyState?f():document.addEventListener("DOMContentLoaded",f)},13:function(t,e,n){"use strict";var r=n.w[t.i];t.exports=r;n(3);r.p()},3:function(t,e,n){"use strict";(function(t){n.d(e,"j",(function(){return x})),n.d(e,"a",(function(){return _})),n.d(e,"g",(function(){return k})),n.d(e,"h",(function(){return E})),n.d(e,"d",(function(){return I})),n.d(e,"c",(function(){return A})),n.d(e,"b",(function(){return C})),n.d(e,"e",(function(){return D})),n.d(e,"i",(function(){return N})),n.d(e,"f",(function(){return R}));var r=n(11),i=n(12),a=n(13),c=new Array(32).fill(void 0);function u(t){return c[t]}c.push(void 0,null,!0,!1);var o=c.length;function s(t){var e=u(t);return function(t){t<36||(c[t]=o,o=t)}(t),e}var f=new("undefined"===typeof TextDecoder?(0,t.require)("util").TextDecoder:TextDecoder)("utf-8",{ignoreBOM:!0,fatal:!0});f.decode();var d=null;function l(){return null!==d&&d.buffer===a.j.buffer||(d=new Uint8Array(a.j.buffer)),d}function h(t,e){return f.decode(l().subarray(t,t+e))}function v(t){o===c.length&&c.push(c.length+1);var e=o;return o=c[e],c[e]=t,e}function g(t){var e=typeof t;if("number"==e||"boolean"==e||null==t)return"".concat(t);if("string"==e)return'"'.concat(t,'"');if("symbol"==e){var n=t.description;return null==n?"Symbol":"Symbol(".concat(n,")")}if("function"==e){var r=t.name;return"string"==typeof r&&r.length>0?"Function(".concat(r,")"):"Function"}if(Array.isArray(t)){var i=t.length,a="[";i>0&&(a+=g(t[0]));for(var c=1;c<i;c++)a+=", "+g(t[c]);return a+="]"}var u,o=/\[object ([^\]]+)\]/.exec(toString.call(t));if(!(o.length>1))return toString.call(t);if("Object"==(u=o[1]))try{return"Object("+JSON.stringify(t)+")"}catch(s){return"Object"}return t instanceof Error?"".concat(t.name,": ").concat(t.message,"\n").concat(t.stack):u}var b=0,p=new("undefined"===typeof TextEncoder?(0,t.require)("util").TextEncoder:TextEncoder)("utf-8"),y="function"===typeof p.encodeInto?function(t,e){return p.encodeInto(t,e)}:function(t,e){var n=p.encode(t);return e.set(n),{read:t.length,written:n.length}};var j=null;function m(){return null!==j&&j.buffer===a.j.buffer||(j=new Int32Array(a.j.buffer)),j}var w=32;function x(){return s(a.o())}function O(t,e){try{return t.apply(this,e)}catch(n){a.g(v(n))}}var _=function(){function t(){Object(r.a)(this,t)}return Object(i.a)(t,[{key:"__destroy_into_raw",value:function(){var t=this.ptr;return this.ptr=0,t}},{key:"free",value:function(){var t=this.__destroy_into_raw();a.d(t)}},{key:"width",get:function(){return a.c(this.ptr)>>>0},set:function(t){a.f(this.ptr,t)}},{key:"height",get:function(){return a.b(this.ptr)>>>0},set:function(t){a.e(this.ptr,t)}},{key:"mark_seam",value:function(){a.m(this.ptr)}},{key:"delete_seam",value:function(){a.k(this.ptr)}},{key:"image_data_ptr",value:function(){return a.l(this.ptr)}}],[{key:"__wrap",value:function(e){var n=Object.create(t.prototype);return n.ptr=e,n}},{key:"new",value:function(e,n,r){try{var i=a.n(function(t){if(1==w)throw new Error("out of js stack");return c[--w]=t,w}(e),n,r);return t.__wrap(i)}finally{c[w++]=void 0}}}]),t}();function k(t){s(t)}function E(t,e){return v(h(t,e))}function I(t){console.log(u(t))}function A(){return O((function(t,e,n,r,i){return v(u(t).getImageData(e,n,r,i))}),arguments)}function C(t,e){var n=function(t,e){var n=e(1*t.length);return l().set(t,n/1),b=t.length,n}(u(e).data,a.h),r=b;m()[t/4+1]=r,m()[t/4+0]=n}function D(t,e){var n=function(t,e,n){if(void 0===n){var r=p.encode(t),i=e(r.length);return l().subarray(i,i+r.length).set(r),b=r.length,i}for(var a=t.length,c=e(a),u=l(),o=0;o<a;o++){var s=t.charCodeAt(o);if(s>127)break;u[c+o]=s}if(o!==a){0!==o&&(t=t.slice(o)),c=n(c,a,a=o+3*t.length);var f=l().subarray(c+o,c+a);o+=y(t,f).written}return b=o,c}(g(u(e)),a.h,a.i),r=b;m()[t/4+1]=r,m()[t/4+0]=n}function N(t,e){throw new Error(h(t,e))}function R(){return v(a.j)}}).call(this,n(10)(t))},9:function(t,e,n){}}]);
//# sourceMappingURL=3.3a51f04c.chunk.js.map